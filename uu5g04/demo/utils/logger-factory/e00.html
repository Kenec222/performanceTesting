<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Example 00</title>

    <script src="https://cdn.plus4u.net/uu-uu5loaderg01/1.0.0/uu5loaderg01.min.js" crossorigin="anonymous"></script>
    <script>
      Uu5Loader.config({
        "imports": {
          "react": "https://cdn.plus4u.net/libs/react/16.13.1/react.min.js",
          "react-dom": "https://cdn.plus4u.net/libs/react-dom/16.13.1/react-dom.min.js",
          "prop-types": "https://cdn.plus4u.net/libs/prop-types/15.7.2/prop-types.min.js",
          "create-react-class": "https://cdn.plus4u.net/libs/create-react-class/15.6.3/create-react-class.min.js",
  
          "uu5g04": "https://cdn.plus4u.net/uu-uu5g04/1.0.0/uu5g04.min.js",
          "uu5g04-bricks": "https://cdn.plus4u.net/uu-uu5g04/1.0.0/uu5g04-bricks.min.js",
          "uu5g04-hooks": "https://cdn.plus4u.net/uu-uu5g04/1.0.0/uu5g04-hooks.min.js"
        }
      });
    </script>

    <script>
      var UU5 = {
        Environment: {
          logLevel: "DEBUG"
        }
      };
    </script>
  </head>
  <body>
    <div id="renderHere">Loading...</div>

    <script type="text/babel">
      import UU5 from "uu5g04";
      import "uu5g04-bricks";
      //@@viewOn:imports
      import { createVisualComponent, useState, useEffect } from "uu5g04-hooks";
      //@@viewOff:imports

      //@@viewOn:example
      const MyComponent = createVisualComponent({
        //@@viewOn:statics
        displayName: "UU5.Demo.MyComponent",
        //@@viewOff:statics

        //@@viewOn:propTypes
        propTypes: {},
        //@@viewOff:propTypes

        //@@viewOn:defaultProps
        defaultProps: {},
        //@@viewOff:defaultProps

        render(props) {
          //@@viewOn:private
          useEffect(() => {
            MyComponent.logger.info("MyComponent mounted.");
            return () => MyComponent.logger.info("MyComponent unmounted.");
          }, []);
          //@@viewOff:private

          //@@viewOn:interface
          //@@viewOff:interface

          //@@viewOn:render
          const attrs = UU5.Common.VisualComponent.getAttrs(props);
          return <div {...attrs}>MyComponent</div>;
          //@@viewOff:render
        },
      });
      //@@viewOff:example

      function Demo() {
        const [show, setShow] = useState(true);
        return (
          <UU5.Bricks.Container>
            <UU5.Bricks.Button onClick={() => setShow((v) => !v)}>
              {show ? "Hide" : "Show"} MyComponent
            </UU5.Bricks.Button>{" "}
            (see console for logging output)
            {show ? <MyComponent /> : null}
          </UU5.Bricks.Container>
        );
      }

      UU5.Common.DOM.render(<Demo />, document.getElementById("renderHere"));
    </script>
  </body>
</html>
